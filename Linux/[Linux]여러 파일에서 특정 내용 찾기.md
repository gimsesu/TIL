# 여러 파일에서 특정 내용 찾기

로그 파일에서 특정 문자열을 포함한 내용을 찾아야 하는 경우가 있다. 예를 들어 `"너의 이름은?"`이라는 문자열을 포함한 내용만 검색하고 싶다면 어떻게 해야 할까? 로그가 두, 세 개라면 파일을 하나씩 열어 검색할 수도 있다. 하지만 검색해야 할 로그가 50, 100 개 이상이라면? 다행히 이런 수고로움을 덜어줄 명령어가 있다.



## find & grep

- 특정 위치에서 하위에 있는 모든 파일을 검색하는 것은 `find`로 할 수 있다.

- 특정 파일에서 특정 문자열 포함한 내용을 검색하려면 `grep`으로 할 수 있다. 

</br>

1. 현재 위치부터 하위에 있는 모든 파일 중에서 찾을 문자열을 포함한 내용을 검색한다.

```shell
$ find . -type f | xargs grep "찾을 문자열"
```

💡`-type f` : 찾으려는 대상의 타입이 파일

</br>

2. 현재 위치부터 하위에 있는 특정 파일 이름을 가진 파일 중에서 찾을 문자열을 포함한 내용을 검색한다.

```shell
$ find . -name "파일이름" | xargs grep "찾을 문자열"
```

💡 `-name`은 와일드 카드도 허용한다. (e.g. `"*.txt"`)



</br>

## 예시

다음과 같이 로그 파일이 있다.

```shell
$ ls ~/logs
1.log  2.log  3.log
```

### 🌺`너의 이름은?`을 포함한 내용을 검색

```shell
$ find . -type f | xargs grep "너의 이름은?"
./1.log:너의 이름은? 홀리워터
./3.log:너의 이름은? 해물파전
./2.log:너의 이름은? 고양이
```

```shell
$ find . -name "*.log" | xargs grep "너의 이름은?"
./1.log:너의 이름은? 홀리워터
./3.log:너의 이름은? 해물파전
./2.log:너의 이름은? 고양이
```

### 🍉`수박`을 포함한 내용을 검색

```shell
$ find  . -type f | xargs grep "수박"
./1.log:과일의 이름은? 수박
./3.log:과일의 이름은? 수박
./2.log:과일의 이름은? 수박
```

```shell
$ find  . -name "*.log" | xargs grep "수박"
./1.log:과일의 이름은? 수박
./3.log:과일의 이름은? 수박
./2.log:과일의 이름은? 수박
```

</br>

## 📜참고

- [리눅스 파일 찾기, 파일속 문자열 찾기[Website]. (2020.12.23)](https://overcode.tistory.com/entry/%EB%A6%AC%EB%88%85%EC%8A%A4-%ED%8C%8C%EC%9D%BC-%EC%B0%BE%EA%B8%B0-%ED%8C%8C%EC%9D%BC%EC%86%8D-%EB%AC%B8%EC%9E%90%EC%97%B4-%EC%B0%BE%EA%B8%B0)

